tinyMCE.addI18n('fr_FR.xoops_code',{
    _XOOPS_EDITOR_TINYMCE4_CODE_TOOLTIP:"Code",
    _XOOPS_EDITOR_TINYMCE4_CODE_SUB:"Collez le code source ci-dessous :",
});

tinymce.PluginManager.add('xoops_code',function(e,url) {function t(){

e.windowManager.open({
	title : '_XOOPS_EDITOR_TINYMCE4_CODE_SUB',
	body:{
		type: 'textbox',
		name: 'xoops_code',
		multiline:!0,
		minWidth:500,
		minHeight:300,
		},

		onSubmit:function(t){
		e.insertContent("<div class='xoopsCode'>"+t.data.xoops_code+"</div><br />")
		}}
	)}

e.addButton("xoops_code",{
	title: 'titre 2',
	tooltip: '_XOOPS_EDITOR_TINYMCE4_CODE_TOOLTIP',
	image:  url + '/img/code.png',
	onclick:t
	})
});
